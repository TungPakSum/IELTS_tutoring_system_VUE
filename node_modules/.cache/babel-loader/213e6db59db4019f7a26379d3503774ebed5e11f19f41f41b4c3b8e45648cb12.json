{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { BaseUiElementFactory, PublicUiElementIdAndClasses } from \"./base\";\nimport { Html5QrcodeScannerStrings } from \"../../strings\";\nvar CameraSelectionUi = function () {\n  function CameraSelectionUi(cameras) {\n    this.selectElement = BaseUiElementFactory.createElement(\"select\", PublicUiElementIdAndClasses.CAMERA_SELECTION_SELECT_ID);\n    this.cameras = cameras;\n    this.options = [];\n  }\n  CameraSelectionUi.prototype.render = function (parentElement) {\n    var cameraSelectionContainer = document.createElement(\"span\");\n    cameraSelectionContainer.style.marginRight = \"10px\";\n    var numCameras = this.cameras.length;\n    if (numCameras === 0) {\n      throw new Error(\"No cameras found\");\n    }\n    if (numCameras === 1) {\n      cameraSelectionContainer.style.display = \"none\";\n    } else {\n      var selectCameraString = Html5QrcodeScannerStrings.selectCamera();\n      cameraSelectionContainer.innerText = selectCameraString + \" (\" + this.cameras.length + \")  \";\n    }\n    var anonymousCameraId = 1;\n    for (var _i = 0, _a = this.cameras; _i < _a.length; _i++) {\n      var camera = _a[_i];\n      var value = camera.id;\n      var name_1 = camera.label == null ? value : camera.label;\n      if (!name_1 || name_1 === \"\") {\n        name_1 = [Html5QrcodeScannerStrings.anonymousCameraPrefix(), anonymousCameraId++].join(\" \");\n      }\n      var option = document.createElement(\"option\");\n      option.value = value;\n      option.innerText = name_1;\n      this.options.push(option);\n      this.selectElement.appendChild(option);\n    }\n    cameraSelectionContainer.appendChild(this.selectElement);\n    parentElement.appendChild(cameraSelectionContainer);\n  };\n  CameraSelectionUi.prototype.disable = function () {\n    this.selectElement.disabled = true;\n  };\n  CameraSelectionUi.prototype.isDisabled = function () {\n    return this.selectElement.disabled === true;\n  };\n  CameraSelectionUi.prototype.enable = function () {\n    this.selectElement.disabled = false;\n  };\n  CameraSelectionUi.prototype.getValue = function () {\n    return this.selectElement.value;\n  };\n  CameraSelectionUi.prototype.hasValue = function (value) {\n    for (var _i = 0, _a = this.options; _i < _a.length; _i++) {\n      var option = _a[_i];\n      if (option.value === value) {\n        return true;\n      }\n    }\n    return false;\n  };\n  CameraSelectionUi.prototype.setValue = function (value) {\n    if (!this.hasValue(value)) {\n      throw new Error(value + \" is not present in the camera list.\");\n    }\n    this.selectElement.value = value;\n  };\n  CameraSelectionUi.prototype.hasSingleItem = function () {\n    return this.cameras.length === 1;\n  };\n  CameraSelectionUi.prototype.numCameras = function () {\n    return this.cameras.length;\n  };\n  CameraSelectionUi.create = function (parentElement, cameras) {\n    var cameraSelectUi = new CameraSelectionUi(cameras);\n    cameraSelectUi.render(parentElement);\n    return cameraSelectUi;\n  };\n  return CameraSelectionUi;\n}();\nexport { CameraSelectionUi };","map":{"version":3,"names":["BaseUiElementFactory","PublicUiElementIdAndClasses","Html5QrcodeScannerStrings","CameraSelectionUi","cameras","selectElement","createElement","CAMERA_SELECTION_SELECT_ID","options","prototype","render","parentElement","cameraSelectionContainer","document","style","marginRight","numCameras","length","Error","display","selectCameraString","selectCamera","innerText","anonymousCameraId","_i","_a","camera","value","id","name_1","label","anonymousCameraPrefix","join","option","push","appendChild","disable","disabled","isDisabled","enable","getValue","hasValue","setValue","hasSingleItem","create","cameraSelectUi"],"sources":["../../../../src/ui/scanner/camera-selection-ui.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}