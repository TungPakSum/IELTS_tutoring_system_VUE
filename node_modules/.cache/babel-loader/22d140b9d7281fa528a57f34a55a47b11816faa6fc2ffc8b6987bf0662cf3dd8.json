{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  id: \"qr-code-full-region\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1);\n}","map":{"version":3,"names":["id","_createElementBlock","_hoisted_1"],"sources":["/Users/paksumtung/Documents/COMP4117/comp4117-spring2023-frontend-group-d/src/components/QrCodeScanner.vue"],"sourcesContent":["<script setup>\nimport {  defineProps, onMounted} from 'vue'\nimport { Html5QrcodeScanner } from \"html5-qrcode\"\nimport soundFile from '@/assets/alarm.mp3';\n\nconst props = defineProps({\n  qrbox: {\n    type: Number,\n    default: 250\n  },\n  fps: {\n    type: Number,\n    default: 10\n  }, \n});\n\nconst audio = new window.Audio();\naudio.src = soundFile;\n//const emit = defineEmits(['result']);\n\n\nconst onScanSuccess = async function(decodedText) \n{\n  audio.play();\n  if (window.confirm('FlagBag ID: ' + decodedText + 'It'))\n  {\n        // Perform the action when the user clicks \"OK\"\n        console.log('Confirmed');\n        //console.log(\"decodedText:\"+ decodedText);\n        //console.log(\"decodedResult:\"+ decodedResult);\n        const id = decodedText;\n        const response = await fetch(`/api/flagbags/updateQr/${id}`, {\n        method: 'put',\n        });\n\n        if(response.ok)\n        {\n          alert(\"旗袋已收回\");\n        }\n  } else\n  {\n        // Perform the action when the user clicks \"Cancel\"\n        console.log('Cancelled');\n  }\n  \n  \n}\n\nonMounted(() => {\n  const html5QrcodeScanner = new Html5QrcodeScanner('qr-code-full-region', props);\n  html5QrcodeScanner.render(onScanSuccess);\n});\n</script>\n\n<template>\n<div id=\"qr-code-full-region\"></div>\n</template>\n"],"mappings":";;EAuDKA,EAAE,EAAC;AAAqB;;uBAA7BC,mBAAA,CAAoC,OAApCC,UAAoC"},"metadata":{},"sourceType":"module","externalDependencies":[]}