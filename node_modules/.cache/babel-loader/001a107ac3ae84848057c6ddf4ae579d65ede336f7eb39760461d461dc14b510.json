{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-636e1687\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"d-flex justify-content-between\"\n};\nvar _hoisted_2 = {\n  \"class\": \"d-flex align-items-center\"\n};\nvar _hoisted_3 = {\n  \"aria-label\": \"breadcrumb\",\n  \"class\": \"d-flex align-items-center\"\n};\nvar _hoisted_4 = {\n  \"class\": \"breadcrumb\"\n};\nvar _hoisted_5 = [\"href\"];\nvar _hoisted_6 = {\n  key: 1\n};\nvar _hoisted_7 = {\n  \"class\": \"d-flex justify-content-end\"\n};\nvar _hoisted_8 = [\"onClick\"];\nexport function render(_ctx, _cache) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"nav\", _hoisted_3, [_createElementVNode(\"ol\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.items, function (item, index) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index,\n      \"class\": \"breadcrumb-item\"\n    }, [_ctx.items.length - 1 !== index ? (_openBlock(), _createElementBlock(\"a\", {\n      key: 0,\n      href: item.path\n    }, _toDisplayString(item.name), 9 /* TEXT, PROPS */, _hoisted_5)) : (_openBlock(), _createElementBlock(\"a\", _hoisted_6, _toDisplayString(item.name), 1 /* TEXT */))]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.items[_ctx.items.length - 1].buttons, function (item, index) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index\n    }, [_createVNode(_component_router_link, {\n      to: \"\".concat(item.path),\n      custom: \"\"\n    }, {\n      \"default\": _withCtx(function (_ref) {\n        var navigate = _ref.navigate;\n        return [typeof item != 'undefined' ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 0,\n          \"class\": \"btn btn-sm btn-success\",\n          onClick: navigate\n        }, _toDisplayString(item.name), 9 /* TEXT, PROPS */, _hoisted_8)) : _createCommentVNode(\"v-if\", true)];\n      }),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","_ctx","items","item","index","key","length","href","path","name","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","buttons","_createVNode","_component_router_link","to","concat","custom","_ref","navigate","onClick","_hoisted_8"],"sources":["/Users/paksumtung/Documents/COMP4117/comp4117-spring2023-frontend-group-d/src/components/BreadcrumbUI.vue"],"sourcesContent":["<template>\n  <div class=\"d-flex justify-content-between\">\n    <div class=\"d-flex align-items-center\">\n      <nav\n        aria-label=\"breadcrumb\"\n        class=\"d-flex align-items-center\"\n      >\n        <ol class=\"breadcrumb\">\n          <li\n            v-for=\"(item, index) in items\"\n            :key=\"index\"\n            class=\"breadcrumb-item\"\n          >\n            <a\n              v-if=\"items.length - 1 !== index\"\n              :href=\"item.path\"\n            >\n              {{ item.name }}\n            </a>\n            <a v-else>{{ item.name }}</a>\n          </li>\n        </ol>\n      </nav>\n    </div>\n\n    <div class=\"d-flex justify-content-end\">\n      <div \n        v-for=\"(item, index) in items[items.length - 1].buttons\"\n        :key=\"index\"\n      >\n        <router-link\n          v-slot=\"{ navigate }\"\n          :to=\"`${item.path}`\"\n          custom\n        >\n          <button\n            v-if=\"typeof item != 'undefined'\"\n            class=\"btn btn-sm btn-success\"\n            @click=\"navigate\"\n          >\n            {{ item.name }}\n          </button>\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useRoute } from 'vue-router'\n// eslint-disable-next-line no-unused-vars\nimport { computed, ref } from 'vue'\n\nexport default {\n  name: 'BreadcrumbUI',\n  setup() {\n    const router = useRoute()\n    let eventName = ref(\"\")\n    let stationName = ref(\"\")\n    let volunteerName = ref(\"\")\n    let flagbagName = ref(\"\")\n\n    const fetchName = async function (id, object)\n    {\n      const response = await fetch(`/api/${object}/get/${id}`);\n      if (response.ok) {\n        let data = await response.json();\n        console.log(data.items)\n        return data.items.name;  \n       }\n      return ''\n    };\n\n    const print = function()\n    {\n      const response = await fetch(`/api/flagbag/get/${id}`);\n      if (response.ok) {\n        let data = await response.json();\n        console.log(data.items)\n        return data.items.name;  \n       }\n      return ''\n    }\n\n    async function populateDict()\n    { \n      if (router.params.eid) {\n        eventName.value = await fetchName(router.params.eid, \"events\");\n      }\n      if (router.params.sid) {\n        stationName.value = await fetchName(router.params.sid, \"stations\");\n      }\n      if (router.params.vid) {\n        volunteerName.value = await fetchName(router.params.vid, \"volunteers\");\n      }\n      if (router.params.fid) {\n        flagbagName.value = await fetchName(router.params.fid, \"flagbags\");\n      }\n    }\n      \n    populateDict();\n\n    const items = computed(() => {\n      let items = [];\n\n\n        let dict = [{\n          name: '賣旗日',\n          buttons: [\n            {\n              name: '建立',\n              next: 'create'\n            }\n          ]\n        },\n        {\n          name: eventName.value + '活動詳情'\n        },\n        {\n          name: eventName.value + '的旗站',\n          buttons: [{\n            name: '建立',\n            next: 'create'\n          }]\n        },\n        {\n          name: stationName.value + '旗站詳情'\n        }\n          ,\n        {\n          name: stationName.value + '的義工',\n          buttons: [{\n            name: '建立',\n            next: 'create'\n          }]\n        },\n        {\n          name: volunteerName.value + '義工詳情',\n        },\n        {\n          name: volunteerName.value + '的旗袋',\n          buttons: [{\n            name: '建立',\n            next: 'create'\n          }, {\n            name: '印出',\n            onclick: print()\n          }]\n        },\n        {\n          name: flagbagName.value + '旗袋詳情',\n        }\n        ];\n        \n        let userDict = [{\n          name: '用戶',\n          buttons: [\n            {\n              name: '建立',\n              next: 'create'\n            }\n          ]\n        }, {\n          name: '用戶詳情'\n        },]\n      \n\n      let elements = router.path.split('/')\n      let length = elements.length - 1;\n      if (elements[1] == 'admin' || elements[1] == 'stationManager') {\n        dict = userDict;\n      }\n\n      let element = 1;\n      let path = '';\n      for (let i = 0; i < dict.length; i++) {\n        path += '/' + elements[element];\n        dict[i].path = path;\n        if (typeof dict[i].buttons != \"undefined\") {\n          for (let j = 0; j < dict[i].buttons.length; j++) {\n            dict[i].buttons[j].path = dict[i].path + '/' + dict[i].buttons[j].next;\n          }\n        }\n        element++\n      }\n\n      items = dict.slice(0, length);\n      console.log(items)\n      return items;\n    })\n\n    \n\n    return {\n      items,\n      fetchName,\n      populateDict\n      \n      \n      \n    }\n  }\n}\n</script>\n\n<style scoped>\n.btn {\n  margin-right: 5px;\n}\n\n</style>\n\n\n"],"mappings":";;;;;;EACO,SAAM;AAAgC;;EACpC,SAAM;AAA2B;;EAElC,YAAU,EAAC,YAAY;EACvB,SAAM;;;EAEF,SAAM;AAAY;;;;;;EAkBrB,SAAM;AAA4B;;;;uBAxBzCA,mBAAA,CA4CM,OA5CNC,UA4CM,GA3CJC,mBAAA,CAqBM,OArBNC,UAqBM,GApBJD,mBAAA,CAmBM,OAnBNE,UAmBM,GAfJF,mBAAA,CAcK,MAdLG,UAcK,I,kBAbHL,mBAAA,CAYKM,SAAA,QAAAC,WAAA,CAXqBC,IAAA,CAAAC,KAAK,YAArBC,IAAI,EAAEC,KAAK;yBADrBX,mBAAA,CAYK;MAVFY,GAAG,EAAED,KAAK;MACX,SAAM;QAGEH,IAAA,CAAAC,KAAK,CAACI,MAAM,SAASF,KAAK,I,cADlCX,mBAAA,CAKI;;MAHDc,IAAI,EAAEJ,IAAI,CAACK;wBAETL,IAAI,CAACM,IAAI,wBAAAC,UAAA,M,cAEdjB,mBAAA,CAA6B,KAAAkB,UAAA,EAAAC,gBAAA,CAAhBT,IAAI,CAACM,IAAI,kB;wCAM9Bd,mBAAA,CAmBM,OAnBNkB,UAmBM,I,kBAlBJpB,mBAAA,CAiBMM,SAAA,QAAAC,WAAA,CAhBoBC,IAAA,CAAAC,KAAK,CAACD,IAAA,CAAAC,KAAK,CAACI,MAAM,MAAMQ,OAAO,YAA/CX,IAAI,EAAEC,KAAK;yBADrBX,mBAAA,CAiBM;MAfHY,GAAG,EAAED;IAAK,IAEXW,YAAA,CAYcC,sBAAA;MAVXC,EAAE,KAAAC,MAAA,CAAKf,IAAI,CAACK,IAAI;MACjBW,MAAM,EAAN;;0BAEA,UAAAC,IAAA;QAAA,IAJUC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;QAAA,Q,OAKHlB,IAAI,mB,cADnBV,mBAAA,CAMS;;UAJP,SAAM,wBAAwB;UAC7B6B,OAAK,EAAED;4BAELlB,IAAI,CAACM,IAAI,wBAAAc,UAAA,K"},"metadata":{},"sourceType":"module","externalDependencies":[]}