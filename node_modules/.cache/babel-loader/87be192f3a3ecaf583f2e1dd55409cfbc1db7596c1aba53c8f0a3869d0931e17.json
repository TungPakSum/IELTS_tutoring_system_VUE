{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from './assets/icon.png';\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-7ba5bd90\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  id: \"vue\"\n};\nvar _hoisted_2 = {\n  \"class\": \"navbar navbar-expand-lg navbar-light\"\n};\nvar _hoisted_3 = {\n  \"class\": \"container-sm\"\n};\nvar _hoisted_4 = {\n  \"class\": \"navbar-brand\"\n};\nvar _hoisted_5 = [\"on-click\"];\nvar _hoisted_6 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"span\", {\n    \"class\": \"navbar-toggler-icon\"\n  }, null, -1 /* HOISTED */);\n});\nvar _hoisted_7 = [_hoisted_6];\nvar _hoisted_8 = {\n  key: 0,\n  \"class\": \"navbar-nav me-auto mb-2 mb-lg-0\"\n};\nvar _hoisted_9 = /*#__PURE__*/_createStaticVNode(\"<li class=\\\"nav-item\\\" data-v-7ba5bd90><a class=\\\"nav-link\\\" href=\\\"/events\\\" data-v-7ba5bd90>賣旗日</a></li><li class=\\\"nav-item\\\" data-v-7ba5bd90><a class=\\\"nav-link\\\" href=\\\"/admin\\\" data-v-7ba5bd90>CUBC用戶</a></li><li class=\\\"nav-item\\\" data-v-7ba5bd90><a class=\\\"nav-link\\\" href=\\\"/stationManager\\\" data-v-7ba5bd90>旗長用戶</a></li><li class=\\\"nav-item\\\" data-v-7ba5bd90><a class=\\\"nav-link\\\" href=\\\"/scan\\\" data-v-7ba5bd90>掃描旗袋二維碼</a></li>\", 4);\nvar _hoisted_13 = [_hoisted_9];\nvar _hoisted_14 = {\n  \"class\": \"d-flex align-items-center\"\n};\nvar _hoisted_15 = {\n  \"class\": \"navbar-nav me-auto mb-2 mb-lg-0\"\n};\nvar _hoisted_16 = {\n  \"class\": \"nav-item\"\n};\nvar _hoisted_17 = {\n  \"class\": \"nav-link\"\n};\nvar _hoisted_18 = {\n  \"class\": \"align-items-center\"\n};\nvar _hoisted_19 = {\n  \"class\": \"container-sm\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  var _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"nav\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"a\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/login\",\n    custom: \"\"\n  }, {\n    \"default\": _withCtx(function (_ref) {\n      var navigate = _ref.navigate;\n      return [_createElementVNode(\"img\", {\n        src: _imports_0,\n        width: \"148\",\n        height: \"60\",\n        \"on-click\": _ctx.login ? '' : navigate\n      }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_5)];\n    }),\n    _: 1 /* STABLE */\n  })]), _ctx.login ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    \"aria-controls\": \"navbarSupportedContent\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\",\n    \"class\": \"navbar-toggler\",\n    \"data-bs-target\": \"#navbarSupportedContent\",\n    \"data-bs-toggle\": \"collapse\",\n    type: \"button\",\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.visible = !_ctx.visible;\n    })\n  }, _hoisted_7)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", {\n    id: \"navbarSupportedContent\",\n    \"class\": _normalizeClass([!_ctx.visible ? 'collapse' : '', \"navbar-collapse\"])\n  }, [_ctx.login ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_8, _hoisted_13)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" <ul\\n            v-else\\n            class=\\\"navbar-nav me-auto mb-2 mb-lg-0\\\"\\n          >\\n            <li class=\\\"nav-item\\\">\\n              <a\\n                class=\\\"nav-link\\\"\\n                href=\\\"/login\\\"\\n              >登入</a>\\n            </li>\\n          </ul> \"), _createElementVNode(\"form\", _hoisted_14, [_createElementVNode(\"div\", null, [_createElementVNode(\"ul\", _hoisted_15, [_createElementVNode(\"li\", _hoisted_16, [_createElementVNode(\"a\", _hoisted_17, _toDisplayString(_ctx.user.username), 1 /* TEXT */)])])]), _createElementVNode(\"div\", _hoisted_18, [_ctx.login ? (_openBlock(), _createElementBlock(\"i\", {\n    key: 0,\n    type: \"submit\",\n    \"class\": \"bi bi-box-arrow-in-left\",\n    style: {\n      \"font-size\": \"33px\"\n    },\n    onClick: _cache[1] || (_cache[1] = function () {\n      return _ctx.logout && _ctx.logout.apply(_ctx, arguments);\n    })\n  })) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" <router-link\\n                          v-slot=\\\"{ navigate }\\\"\\n                          :to=\\\"{ path: '/login' }\\\"\\n                          custom\\n                        > \"), _createCommentVNode(\" <button\\n                            v-if=\\\"!login\\\"\\n                            class=\\\"btn btn-outline-success\\\"\\n                            type=\\\"submit\\\"\\n                            @click=\\\"navigate\\\"\\n                          >\\n                            登入\\n                          </button> \"), _createCommentVNode(\" <button\\n                          v-if=\\\"login\\\"\\n                          class=\\\"btn btn-outline-success\\\"\\n                          type=\\\"submit\\\"\\n                          @click=\\\"logout\\\"\\n                        > \"), _createCommentVNode(\" </button> \")])], 2 /* CLASS */)])]), _createElementVNode(\"div\", _hoisted_19, [_createVNode(_component_router_view)])]);\n}","map":{"version":3,"names":["_imports_0","id","_createElementVNode","_hoisted_6","_hoisted_9","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","custom","_ref","navigate","src","width","height","_ctx","login","type","onClick","_cache","$event","visible","_normalizeClass","_hoisted_8","_hoisted_13","_createCommentVNode","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_toDisplayString","user","username","_hoisted_18","style","logout","apply","arguments","_hoisted_19","_component_router_view"],"sources":["/Users/paksumtung/Documents/COMP4117/comp4117-spring2023-frontend-group-d/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"vue\">\n    <nav class=\"navbar navbar-expand-lg navbar-light\">\n      <div class=\"container-sm\">\n        <a class=\"navbar-brand\">\n          <router-link\n            v-slot=\"{ navigate }\"\n            :to=\"`/login`\"\n            custom\n          >\n            <img\n              src=\"./assets/icon.png\"\n              width=\"148\"\n              height=\"60\"\n              :on-click=\"login ? '' : navigate\"\n            >\n          </router-link>\n        </a>\n        <button\n          v-if=\"login\"\n          aria-controls=\"navbarSupportedContent\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n          class=\"navbar-toggler\"\n          data-bs-target=\"#navbarSupportedContent\"\n          data-bs-toggle=\"collapse\"\n          type=\"button\"\n          @click=\"visible = !visible\"\n        >\n          <span class=\"navbar-toggler-icon\" />\n        </button>\n        <div\n          id=\"navbarSupportedContent\"\n          :class=\"!visible ? 'collapse' : ''\"\n          class=\"navbar-collapse\"\n        >\n          <ul\n            v-if=\"login\"\n            class=\"navbar-nav me-auto mb-2 mb-lg-0\"\n          >\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link\"\n                href=\"/events\"\n              >賣旗日</a>\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link\"\n                href=\"/admin\"\n              >CUBC用戶</a>\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link\"\n                href=\"/stationManager\"\n              >旗長用戶</a>\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link\"\n                href=\"/scan\"\n              >掃描旗袋二維碼</a>\n            </li>\n          </ul>\n\n          <!-- <ul\n            v-else\n            class=\"navbar-nav me-auto mb-2 mb-lg-0\"\n          >\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link\"\n                href=\"/login\"\n              >登入</a>\n            </li>\n          </ul> -->\n          <form class=\"d-flex align-items-center\">\n            <div>\n              <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n                <li class=\"nav-item\">\n                  <a\n                    class=\"nav-link\"\n                  >{{ user.username }}</a>\n                </li>\n              </ul>\n            </div>\n            <div class=\"align-items-center\">\n              <i\n                v-if=\"login\"\n                type=\"submit\"\n                class=\"bi bi-box-arrow-in-left\"\n                style=\"font-size: 33px;\"\n                @click=\"logout\"\n              />\n            </div>\n            <!-- <router-link\n                          v-slot=\"{ navigate }\"\n                          :to=\"{ path: '/login' }\"\n                          custom\n                        > -->\n            <!-- <button\n                            v-if=\"!login\"\n                            class=\"btn btn-outline-success\"\n                            type=\"submit\"\n                            @click=\"navigate\"\n                          >\n                            登入\n                          </button> -->\n            <!-- <button\n                          v-if=\"login\"\n                          class=\"btn btn-outline-success\"\n                          type=\"submit\"\n                          @click=\"logout\"\n                        > -->\n            <!-- </button> -->\n          </form>\n        </div>\n      </div>\n    </nav>\n    <div class=\"container-sm\">\n      <router-view />\n    </div>\n  </div>\n</template>\n\n<script>\nimport {onMounted, ref} from \"vue\";\nimport JwtDecode from \"jwt-decode\";\n\nexport default {\n    name: \"App\",\n    setup: function () {\n        const user = ref({});\n        const login = ref(false);\n        let visible = ref(false);\n\n        onMounted(function () {\n            fetchPage();\n        });\n\n        const fetchPage = async function () {\n            if (localStorage.getItem(\"token\") !== null) {\n                login.value = true;\n                // user.value = JSON.stringify(decoded)\n                user.value = JwtDecode(localStorage.getItem(\"token\"));\n                console.log(user.value);\n            }\n        };\n\n        const logout = function () {\n            localStorage.removeItem(\"token\");\n            location.assign(\"/login\");\n            // location.reload();\n        }\n        return {\n            user,\n            visible,\n            login,\n            logout\n        };\n    },\n};\n</script>\n<style scoped>\n.bi-box-arrow-in-left {\n    padding-left: 5px;\n}\n\n/**/\n</style>\n"],"mappings":";OAWcA,UAAuB;;;;;EAV9BC,EAAE,EAAC;AAAK;;EACN,SAAM;AAAsC;;EAC1C,SAAM;AAAc;;EACpB,SAAM;AAAc;;;sBAyBrBC,mBAAA,CAAoC;IAA9B,SAAM;EAAqB;AAAA;kBAAjCC,UAAoC,C;;;EASlC,SAAM;;;mBAENC,UAKK,C;;EAgCD,SAAM;AAA2B;;EAE/B,SAAM;AAAiC;;EACrC,SAAM;AAAU;;EAEhB,SAAM;AAAU;;EAKnB,SAAM;AAAoB;;EAiClC,SAAM;AAAc;;;;uBAvH3BC,mBAAA,CA0HM,OA1HNC,UA0HM,GAzHJJ,mBAAA,CAqHM,OArHNK,UAqHM,GApHJL,mBAAA,CAmHM,OAnHNM,UAmHM,GAlHJN,mBAAA,CAaI,KAbJO,UAaI,GAZFC,YAAA,CAWcC,sBAAA;IATXC,EAAE,UAAU;IACbC,MAAM,EAAN;;wBAEA,UAAAC,IAAA;MAAA,IAJUC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;MAAA,QAIlBb,mBAAA,CAKC;QAJCc,GAAuB,EAAvBhB,UAAuB;QACvBiB,KAAK,EAAC,KAAK;QACXC,MAAM,EAAC,IAAI;QACV,UAAQ,EAAEC,IAAA,CAAAC,KAAK,QAAQL;;;;QAKtBI,IAAA,CAAAC,KAAK,I,cADbf,mBAAA,CAYS;;IAVP,eAAa,EAAC,wBAAwB;IACtC,eAAa,EAAC,OAAO;IACrB,YAAU,EAAC,mBAAmB;IAC9B,SAAM,gBAAgB;IACtB,gBAAc,EAAC,yBAAyB;IACxC,gBAAc,EAAC,UAAU;IACzBgB,IAAI,EAAC,QAAQ;IACZC,OAAK,EAAAC,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAAEL,IAAA,CAAAM,OAAO,IAAIN,IAAA,CAAAM,OAAO;IAAA;uDAI5BvB,mBAAA,CAsFM;IArFJD,EAAE,EAAC,wBAAwB;IAC1B,SAAKyB,eAAA,GAAGP,IAAA,CAAAM,OAAO,oBACV,iBAAiB;MAGfN,IAAA,CAAAC,KAAK,I,cADbf,mBAAA,CA4BK,MA5BLsB,UA4BK,EAAAC,WAAA,K,mCAELC,mBAAA,wRAUS,EACT3B,mBAAA,CAuCO,QAvCP4B,WAuCO,GAtCL5B,mBAAA,CAQM,cAPJA,mBAAA,CAMK,MANL6B,WAMK,GALH7B,mBAAA,CAIK,MAJL8B,WAIK,GAHH9B,mBAAA,CAEwB,KAFxB+B,WAEwB,EAAAC,gBAAA,CAApBf,IAAA,CAAAgB,IAAI,CAACC,QAAQ,iB,OAIvBlC,mBAAA,CAQM,OARNmC,WAQM,GANIlB,IAAA,CAAAC,KAAK,I,cADbf,mBAAA,CAME;;IAJAgB,IAAI,EAAC,QAAQ;IACb,SAAM,yBAAyB;IAC/BiB,KAAwB,EAAxB;MAAA;IAAA,CAAwB;IACvBhB,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAEJ,IAAA,CAAAoB,MAAA,IAAApB,IAAA,CAAAoB,MAAA,CAAAC,KAAA,CAAArB,IAAA,EAAAsB,SAAA,CAAM;IAAA;6CAGlBZ,mBAAA,wLAIiB,EACjBA,mBAAA,yTAO2B,EAC3BA,mBAAA,uOAKiB,EACjBA,mBAAA,eAAkB,C,wBAK1B3B,mBAAA,CAEM,OAFNwC,WAEM,GADJhC,YAAA,CAAeiC,sBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}