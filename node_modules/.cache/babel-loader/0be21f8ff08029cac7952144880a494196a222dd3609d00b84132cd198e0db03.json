{"ast":null,"code":"import _regeneratorRuntime from \"/Users/paksumtung/Documents/COMP4117/comp4117-spring2023-frontend-group-d/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/paksumtung/Documents/COMP4117/comp4117-spring2023-frontend-group-d/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { onMounted, ref } from 'vue';\nimport QRCode from 'qrcode';\nexport default {\n  __name: 'QrCode',\n  props: {\n    data: {\n      type: Object,\n      required: true\n    }\n  },\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose;\n    expose();\n    var props = __props;\n    var src = ref(\"\");\n    onMounted( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var resolvedData;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return props.data;\n          case 2:\n            resolvedData = _context.sent;\n            _context.next = 5;\n            return QRCode.toDataURL(resolvedData._id, {\n              color: {\n                dark: '#000000',\n                light: '#ffffff'\n              }\n            });\n          case 5:\n            src.value = _context.sent;\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    })));\n    var printQrCode = function printQrCode() {\n      var qrcodeImg = document.createElement('img');\n      qrcodeImg.src = src.value;\n      var printWindow = window.open('', 'Print', 'height=400,width=600');\n      printWindow.document.write('<html><head><title>QRCode-' + props.data.name + ' ' + props.data.value._id + '</title></head><body>');\n      printWindow.document.write(qrcodeImg.outerHTML);\n      printWindow.document.write('</body></html>');\n      printWindow.document.close();\n      printWindow.focus();\n      printWindow.print();\n      //printWindow.close()\n    };\n\n    var __returned__ = {\n      props: props,\n      src: src,\n      printQrCode: printQrCode,\n      onMounted: onMounted,\n      ref: ref,\n      get QRCode() {\n        return QRCode;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","ref","QRCode","src","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resolvedData","wrap","_callee$","_context","prev","next","props","data","sent","toDataURL","_id","color","dark","light","value","stop","printQrCode","qrcodeImg","document","createElement","printWindow","window","open","write","name","outerHTML","close","focus","print"],"sources":["/Users/paksumtung/Documents/COMP4117/comp4117-spring2023-frontend-group-d/src/components/QrCode.vue"],"sourcesContent":["<script setup>\nimport { defineProps, onMounted, ref } from 'vue'\nimport QRCode from 'qrcode'\n\n\nconst props = defineProps({\n    data: {\n        type: Object,\n        required: true\n    }\n    \n    \n});\n\nconst src = ref(\"\");\n\n\n\nonMounted(async () => {\n  const resolvedData = await props.data;\n  src.value = await QRCode.toDataURL(resolvedData._id, {\n    color: {\n      dark: '#000000',\n      light: '#ffffff'\n    }\n  });\n    \n});\n\nconst printQrCode = function() {\n  const qrcodeImg = document.createElement('img')\n  qrcodeImg.src = src.value\n  const printWindow = window.open('', 'Print', 'height=400,width=600')\n  printWindow.document.write('<html><head><title>QRCode-'+ props.data.name +' '+ props.data.value._id +'</title></head><body>')\n  printWindow.document.write(qrcodeImg.outerHTML)\n  printWindow.document.write('</body></html>')\n  printWindow.document.close()\n  printWindow.focus()\n  printWindow.print()\n  //printWindow.close()\n}\n</script>\n\n<template>\n  <img :src=\"src\" ref=\"qrcodeImg\" @click=\"printQrCode\" style=\"cursor: pointer;\" />\n  <li class=\"list-group-item h5\" v-if =\"item.type.type ==='group'\">\n      旗袋狀態: {{ props.data.flagStatus.name }}\n  </li>\n</template>"],"mappings":";;;;AACA,SAAsBA,SAAS,EAAEC,GAAG,QAAQ,KAAK;AACjD,OAAOC,MAAM,MAAM,QAAQ;;;;;;;;;;;;;IAY3B,IAAMC,GAAG,GAAGF,GAAG,CAAC,EAAE,CAAC;IAInBD,SAAS,eAAAI,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAA;MAAA,IAAAC,YAAA;MAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACmBC,KAAK,CAACC,IAAI;UAAA;YAA/BP,YAAY,GAAAG,QAAA,CAAAK,IAAA;YAAAL,QAAA,CAAAE,IAAA;YAAA,OACAX,MAAM,CAACe,SAAS,CAACT,YAAY,CAACU,GAAG,EAAE;cACnDC,KAAK,EAAE;gBACLC,IAAI,EAAE,SAAS;gBACfC,KAAK,EAAE;cACT;YACF,CAAC,CAAC;UAAA;YALFlB,GAAG,CAACmB,KAAK,GAAAX,QAAA,CAAAK,IAAA;UAAA;UAAA;YAAA,OAAAL,QAAA,CAAAY,IAAA;QAAA;MAAA,GAAAhB,OAAA;IAAA,CAOV,GAAC;IAEF,IAAMiB,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAc;MAC7B,IAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MAC/CF,SAAS,CAACtB,GAAG,GAAGA,GAAG,CAACmB,KAAK;MACzB,IAAMM,WAAW,GAAGC,MAAM,CAACC,IAAI,CAAC,EAAE,EAAE,OAAO,EAAE,sBAAsB,CAAC;MACpEF,WAAW,CAACF,QAAQ,CAACK,KAAK,CAAC,4BAA4B,GAAEjB,KAAK,CAACC,IAAI,CAACiB,IAAI,GAAE,GAAG,GAAElB,KAAK,CAACC,IAAI,CAACO,KAAK,CAACJ,GAAG,GAAE,uBAAuB,CAAC;MAC7HU,WAAW,CAACF,QAAQ,CAACK,KAAK,CAACN,SAAS,CAACQ,SAAS,CAAC;MAC/CL,WAAW,CAACF,QAAQ,CAACK,KAAK,CAAC,gBAAgB,CAAC;MAC5CH,WAAW,CAACF,QAAQ,CAACQ,KAAK,EAAE;MAC5BN,WAAW,CAACO,KAAK,EAAE;MACnBP,WAAW,CAACQ,KAAK,EAAE;MACnB;IACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}