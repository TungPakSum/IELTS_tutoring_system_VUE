{"ast":null,"code":"import \"core-js/modules/es.array.slice.js\";\nimport { useRoute } from 'vue-router';\n// eslint-disable-next-line no-unused-vars\nimport { computed, ref, onMounted } from 'vue';\nimport JwtDecode from \"jwt-decode\";\nexport default {\n  name: 'BreadcrumbUI',\n  setup: function setup() {\n    var router = useRoute();\n    // let eventName = ref(\"\")\n    // let stationName = ref(\"\")\n    // let volunteerName = ref(\"\")\n    // let flagbagName = ref(\"\")\n\n    // const fetchName = async function(id, object) {\n    //   const response = await fetch(`/api/${object}/get/${id}`);\n    //   if (response.ok) {\n    //     let data = await response.json();\n    //     console.log(data.items)\n    //     return data.items.name;\n    //   }\n    //   return ''\n    // };\n\n    // populateDict();\n\n    // async function populateDict() {\n    //   if (router.params.eid) {\n    //     eventName.value = await fetchName(router.params.eid, \"events\");\n    //   }\n    //   if (router.params.sid) {\n    //     stationName.value = await fetchName(router.params.sid, \"stations\");\n    //   }\n    //   if (router.params.vid) {\n    //     volunteerName.value = await fetchName(router.params.vid, \"volunteers\");\n    //   }\n    //   if (router.params.fid) {\n    //     flagbagName.value = await fetchName(router.params.fid, \"flagbags\");\n    //   }\n    // }\n\n    var items = computed(function () {\n      var items = [];\n      var dict = [{\n        name: '賣旗日',\n        buttons: [{\n          name: '建立',\n          next: 'create'\n        }]\n      }, {\n        name: '活動詳情'\n        // name: eventName.value + '活動詳情'\n      }, {\n        name: '旗站',\n        // name: eventName.value + '的旗站',\n        buttons: [{\n          name: '建立',\n          next: 'create'\n        }]\n      }, {\n        name: '旗站詳情'\n        // name: stationName.value + '旗站詳情'\n      }, {\n        name: '義工',\n        // name: stationName.value + '的義工',\n        buttons: [{\n          name: '建立',\n          next: 'create'\n        }]\n      }, {\n        name: '義工詳情'\n        // name: volunteerName.value + '義工詳情',\n      }, {\n        // name: volunteerName.value + '的旗袋',\n        name: '旗袋',\n        buttons: [{\n          name: '建立',\n          next: 'create'\n        }, {\n          name: '印出',\n          next: 'print'\n        }]\n      }, {\n        name: '旗袋詳情'\n        // name: flagbagName.value + '旗袋詳情',\n      }];\n\n      var userDict = [{\n        name: '用戶',\n        buttons: [{\n          name: '建立',\n          next: 'create'\n        }]\n      }, {\n        name: '用戶詳情'\n      }];\n      var elements = router.path.split('/');\n      var length = elements.length - 1;\n      if (elements[1] == 'admin' || elements[1] == 'stationManager') {\n        dict = userDict;\n      }\n      var element = 1;\n      var path = '';\n      for (var i = 0; i < dict.length; i++) {\n        path += '/' + elements[element];\n        dict[i].path = path;\n        if (typeof dict[i].buttons != \"undefined\") {\n          for (var j = 0; j < dict[i].buttons.length; j++) {\n            dict[i].buttons[j].path = dict[i].path + '/' + dict[i].buttons[j].next;\n          }\n        }\n        element++;\n      }\n      items = dict.slice(0, length);\n      console.log(items);\n      return items;\n    });\n    onMounted(function () {\n      var credentials = JwtDecode(localStorage.getItem(\"token\"));\n      console.log(credentials);\n    });\n    return {\n      items: items\n      // fetchName,\n      // populateDict\n    };\n  }\n};","map":{"version":3,"names":["useRoute","computed","ref","onMounted","JwtDecode","name","setup","router","items","dict","buttons","next","userDict","elements","path","split","length","element","i","j","slice","console","log","credentials","localStorage","getItem"],"sources":["/Users/paksumtung/Documents/COMP4117/comp4117-spring2023-frontend-group-d/src/components/BreadcrumbUI.vue"],"sourcesContent":["<template>\n  <div class=\"d-flex justify-content-between\">\n    <div class=\"d-flex align-items-center\">\n      <nav\n        aria-label=\"breadcrumb\"\n        class=\"d-flex align-items-center\"\n      >\n        <ol class=\"breadcrumb\">\n          <li\n            v-for=\"(item, index) in items\"\n            :key=\"index\"\n            class=\"breadcrumb-item\"\n          >\n            <a\n              v-if=\"items.length - 1 !== index\"\n              :href=\"item.path\"\n            >\n              {{ item.name }}\n            </a>\n            <a v-else>{{ item.name }}</a>\n          </li>\n        </ol>\n      </nav>\n    </div>\n\n    <div class=\"d-flex justify-content-end\">\n      <div\n        v-for=\"(item, index) in items[items.length - 1].buttons\"\n        :key=\"index\"\n      >\n        <router-link\n          v-slot=\"{ navigate }\"\n          :to=\"`${item.path}`\"\n          custom\n        >\n          <button\n            v-if=\"typeof item != 'undefined'\"\n            class=\"btn btn-sm btn-success\"\n            @click=\"navigate\"\n          >\n            {{ item.name }}\n          </button>\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useRoute } from 'vue-router'\n// eslint-disable-next-line no-unused-vars\nimport { computed, ref, onMounted } from 'vue'\nimport JwtDecode from \"jwt-decode\";\n\nexport default {\n  name: 'BreadcrumbUI',\n  setup() {\n    const router = useRoute()\n    // let eventName = ref(\"\")\n    // let stationName = ref(\"\")\n    // let volunteerName = ref(\"\")\n    // let flagbagName = ref(\"\")\n\n\n\n    // const fetchName = async function(id, object) {\n    //   const response = await fetch(`/api/${object}/get/${id}`);\n    //   if (response.ok) {\n    //     let data = await response.json();\n    //     console.log(data.items)\n    //     return data.items.name;\n    //   }\n    //   return ''\n    // };\n\n    // populateDict();\n\n    // async function populateDict() {\n    //   if (router.params.eid) {\n    //     eventName.value = await fetchName(router.params.eid, \"events\");\n    //   }\n    //   if (router.params.sid) {\n    //     stationName.value = await fetchName(router.params.sid, \"stations\");\n    //   }\n    //   if (router.params.vid) {\n    //     volunteerName.value = await fetchName(router.params.vid, \"volunteers\");\n    //   }\n    //   if (router.params.fid) {\n    //     flagbagName.value = await fetchName(router.params.fid, \"flagbags\");\n    //   }\n    // }\n\n    const items = computed(() => {\n      let items = [];\n\n      let dict = [{\n        name: '賣旗日',\n        buttons: [\n          {\n            name: '建立',\n            next: 'create'\n          }\n        ]\n      },\n      {\n        name: '活動詳情'\n        // name: eventName.value + '活動詳情'\n      },\n      {\n        name: '旗站',\n        // name: eventName.value + '的旗站',\n        buttons: [{\n          name: '建立',\n          next: 'create'\n        }]\n      },\n      {\n        name: '旗站詳情',\n        // name: stationName.value + '旗站詳情'\n      },\n      {\n        name: '義工',\n        // name: stationName.value + '的義工',\n        buttons: [{\n          name: '建立',\n          next: 'create'\n        }]\n      },\n      {\n        name: '義工詳情',\n        // name: volunteerName.value + '義工詳情',\n      },\n      {\n        // name: volunteerName.value + '的旗袋',\n        name: '旗袋',\n        buttons: [{\n          name: '建立',\n          next: 'create'\n        }, {\n          name: '印出',\n          next: 'print'\n        }]\n      },\n      {\n        name: '旗袋詳情',\n        // name: flagbagName.value + '旗袋詳情',\n      }\n      ];\n\n      let userDict = [{\n        name: '用戶',\n        buttons: [\n          {\n            name: '建立',\n            next: 'create'\n          }\n        ]\n      }, {\n        name: '用戶詳情'\n      },]\n\n\n      let elements = router.path.split('/')\n      let length = elements.length - 1;\n      if (elements[1] == 'admin' || elements[1] == 'stationManager') {\n        dict = userDict;\n      }\n\n      let element = 1;\n      let path = '';\n      for (let i = 0; i < dict.length; i++) {\n        path += '/' + elements[element];\n        dict[i].path = path;\n        if (typeof dict[i].buttons != \"undefined\") {\n          for (let j = 0; j < dict[i].buttons.length; j++) {\n            dict[i].buttons[j].path = dict[i].path + '/' + dict[i].buttons[j].next;\n          }\n        }\n        element++\n      }\n\n      items = dict.slice(0, length);\n      console.log(items)\n      return items;\n    })\n\n    onMounted(() => {\n      const credentials = JwtDecode(localStorage.getItem(\"token\"));\n      console.log(credentials)\n    })\n\n    return {\n      items,\n      // fetchName,\n      // populateDict\n    }\n  }\n}\n</script>\n\n<style scoped>\n.btn {\n  margin-right: 5px;\n}\n</style>\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}