{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createVNode as _createVNode, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from './assets/icon.png';\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-7ba5bd90\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  id: \"vue\"\n};\nvar _hoisted_2 = {\n  \"class\": \"navbar navbar-expand-lg navbar-light\"\n};\nvar _hoisted_3 = {\n  \"class\": \"container-sm\"\n};\nvar _hoisted_4 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"a\", {\n    \"class\": \"navbar-brand\"\n  }, [/*#__PURE__*/_createElementVNode(\"img\", {\n    src: _imports_0,\n    width: \"148\",\n    height: \"60\"\n  })], -1 /* HOISTED */);\n});\nvar _hoisted_5 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"span\", {\n    \"class\": \"navbar-toggler-icon\"\n  }, null, -1 /* HOISTED */);\n});\nvar _hoisted_6 = [_hoisted_5];\nvar _hoisted_7 = {\n  key: 0,\n  \"class\": \"navbar-nav me-auto mb-2 mb-lg-0\"\n};\nvar _hoisted_8 = /*#__PURE__*/_createStaticVNode(\"<li class=\\\"nav-item\\\" data-v-7ba5bd90><a class=\\\"nav-link\\\" href=\\\"/\\\" data-v-7ba5bd90>賣旗日</a></li><li class=\\\"nav-item\\\" data-v-7ba5bd90><a class=\\\"nav-link\\\" href=\\\"/admin\\\" data-v-7ba5bd90>CUBC用戶</a></li><li class=\\\"nav-item\\\" data-v-7ba5bd90><a class=\\\"nav-link\\\" href=\\\"/stationsManager\\\" data-v-7ba5bd90>旗長用戶</a></li>\", 3);\nvar _hoisted_11 = [_hoisted_8];\nvar _hoisted_12 = {\n  key: 1,\n  \"class\": \"navbar-nav me-auto mb-2 mb-lg-0\"\n};\nvar _hoisted_13 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"li\", {\n    \"class\": \"nav-item\"\n  }, [/*#__PURE__*/_createElementVNode(\"a\", {\n    \"class\": \"nav-link\",\n    href: \"/login\"\n  }, \"登入\")], -1 /* HOISTED */);\n});\nvar _hoisted_14 = [_hoisted_13];\nvar _hoisted_15 = {\n  \"class\": \"d-flex align-items-center\"\n};\nvar _hoisted_16 = {\n  \"class\": \"navbar-nav me-auto mb-2 mb-lg-0\"\n};\nvar _hoisted_17 = {\n  \"class\": \"nav-item\"\n};\nvar _hoisted_18 = {\n  \"class\": \"nav-link\"\n};\nvar _hoisted_19 = {\n  \"class\": \"container-sm\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"nav\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"button\", {\n    \"aria-controls\": \"navbarSupportedContent\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\",\n    \"class\": \"navbar-toggler\",\n    \"data-bs-target\": \"#navbarSupportedContent\",\n    \"data-bs-toggle\": \"collapse\",\n    type: \"button\",\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.visible = !_ctx.visible;\n    })\n  }, _hoisted_6), _createElementVNode(\"div\", {\n    id: \"navbarSupportedContent\",\n    \"class\": _normalizeClass([!_ctx.visible ? 'collapse' : '', \"navbar-collapse\"])\n  }, [_ctx.login ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_7, _hoisted_11)) : (_openBlock(), _createElementBlock(\"ul\", _hoisted_12, _hoisted_14)), _createElementVNode(\"form\", _hoisted_15, [_createElementVNode(\"div\", null, [_createElementVNode(\"ul\", _hoisted_16, [_createElementVNode(\"li\", _hoisted_17, [_createElementVNode(\"a\", _hoisted_18, _toDisplayString(_ctx.user.username), 1 /* TEXT */)])])]), _createElementVNode(\"div\", null, [_ctx.login ? (_openBlock(), _createElementBlock(\"i\", {\n    key: 0,\n    type: \"submit\",\n    \"class\": \"bi bi-box-arrow-in-left\",\n    style: {\n      \"font-size\": \"33px\"\n    },\n    onClick: _cache[1] || (_cache[1] = function () {\n      return _ctx.logout && _ctx.logout.apply(_ctx, arguments);\n    })\n  })) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" <router-link\\n              v-slot=\\\"{ navigate }\\\"\\n              :to=\\\"{ path: '/login' }\\\"\\n              custom\\n            > \"), _createCommentVNode(\" <button\\n                v-if=\\\"!login\\\"\\n                class=\\\"btn btn-outline-success\\\"\\n                type=\\\"submit\\\"\\n                @click=\\\"navigate\\\"\\n              >\\n                登入\\n              </button> \"), _createCommentVNode(\" <button\\n              v-if=\\\"login\\\"\\n              class=\\\"btn btn-outline-success\\\"\\n              type=\\\"submit\\\"\\n              @click=\\\"logout\\\"\\n            > \"), _createCommentVNode(\" </button> \")])], 2 /* CLASS */)])]), _createElementVNode(\"div\", _hoisted_19, [_createVNode(_component_router_view)])]);\n}","map":{"version":3,"names":["_imports_0","id","_createElementVNode","src","width","height","_hoisted_5","_hoisted_8","href","_hoisted_13","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","type","onClick","_cache","$event","_ctx","visible","_normalizeClass","login","_hoisted_7","_hoisted_11","_hoisted_12","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_toDisplayString","user","username","style","logout","apply","arguments","_createCommentVNode","_hoisted_19","_createVNode","_component_router_view"],"sources":["/Users/paksumtung/Documents/COMP4117/comp4117-spring2023-frontend-group-d/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"vue\">\n    <nav class=\"navbar navbar-expand-lg navbar-light\">\n      <div class=\"container-sm\">\n        <a class=\"navbar-brand\">\n          <img\n            src=\"./assets/icon.png\"\n            width=\"148\"\n            height=\"60\"\n          >\n        </a>\n        <button\n          aria-controls=\"navbarSupportedContent\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n          class=\"navbar-toggler\"\n          data-bs-target=\"#navbarSupportedContent\"\n          data-bs-toggle=\"collapse\"\n          type=\"button\"\n          @click=\"visible = !visible\"\n        >\n          <span class=\"navbar-toggler-icon\" />\n        </button>\n        <div\n          id=\"navbarSupportedContent\"\n          :class=\"!visible ? 'collapse' : ''\"\n          class=\"navbar-collapse\"\n        >\n          <ul\n            v-if=\"login\"\n            class=\"navbar-nav me-auto mb-2 mb-lg-0\"\n          >\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link\"\n                href=\"/\"\n              >賣旗日</a>\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link\"\n                href=\"/admin\"\n              >CUBC用戶</a>\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link\"\n                href=\"/stationsManager\"\n              >旗長用戶</a>\n            </li>\n          </ul>\n          \n          <ul\n            v-else\n            class=\"navbar-nav me-auto mb-2 mb-lg-0\"\n          >\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link\"\n                href=\"/login\"\n              >登入</a>\n            </li>\n          </ul>\n          <form class=\"d-flex align-items-center\">\n            <div>\n              <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n                <li class=\"nav-item\">\n                  <a\n                    class=\"nav-link\"\n                  >{{ user.username }}</a>\n                </li>\n              </ul>\n            </div>\n            <div>\n              <i \n                v-if=\"login\"\n                type=\"submit\"\n                class=\"bi bi-box-arrow-in-left\"\n                style=\"font-size: 33px;\"\n                @click=\"logout\"\n              />\n            </div>\n            <!-- <router-link\n              v-slot=\"{ navigate }\"\n              :to=\"{ path: '/login' }\"\n              custom\n            > -->\n            <!-- <button\n                v-if=\"!login\"\n                class=\"btn btn-outline-success\"\n                type=\"submit\"\n                @click=\"navigate\"\n              >\n                登入\n              </button> -->\n            <!-- <button\n              v-if=\"login\"\n              class=\"btn btn-outline-success\"\n              type=\"submit\"\n              @click=\"logout\"\n            > -->\n            <!-- </button> -->\n          </form>\n        </div>\n      </div>\n    </nav>\n    <div class=\"container-sm\">\n      <router-view />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from \"vue\";\nimport JwtDecode from \"jwt-decode\";\n\nexport default {\n  name: \"App\",\n  setup: function () {\n    const user = ref({});\n    const login = ref(false);\n    let visible = ref(false);\n\n    onMounted(function () {\n      fetchPage();\n    });\n\n    const fetchPage = async function () {\n      if (localStorage.getItem(\"token\") !== null) {\n        login.value = true;\n        const decoded = JwtDecode(localStorage.getItem(\"token\"));\n        // user.value = JSON.stringify(decoded)\n        user.value = decoded;\n        console.log(user.value);\n      }\n    };\n\n    const logout = function () {\n      localStorage.removeItem(\"token\");\n      location.reload();\n    }\n    return {\n      user,\n      visible,\n      login,\n      logout\n    };\n  },\n};\n</script>\n<style scoped>\n/**/\n</style>\n"],"mappings":";OAMYA,UAAuB;;;;;EAL5BC,EAAE,EAAC;AAAK;;EACN,SAAM;AAAsC;;EAC1C,SAAM;AAAc;;sBACvBC,mBAAA,CAMI;IAND,SAAM;EAAc,I,aACrBA,mBAAA,CAIC;IAHCC,GAAuB,EAAvBH,UAAuB;IACvBI,KAAK,EAAC,KAAK;IACXC,MAAM,EAAC;;;;sBAaTH,mBAAA,CAAoC;IAA9B,SAAM;EAAqB;AAAA;kBAAjCI,UAAoC,C;;;EASlC,SAAM;;;mBAENC,UAKK,C;;;EAiBL,SAAM;;;sBAENL,mBAAA,CAKK;IALD,SAAM;EAAU,I,aAClBA,mBAAA,CAGO;IAFL,SAAM,UAAU;IAChBM,IAAI,EAAC;KACN,IAAE,E;;mBAJLC,WAKK,C;;EAED,SAAM;AAA2B;;EAE/B,SAAM;AAAiC;;EACrC,SAAM;AAAU;;EAEhB,SAAM;AAAU;;EAsC3B,SAAM;AAAc;;;uBAzG3BC,mBAAA,CA4GM,OA5GNC,UA4GM,GA3GJT,mBAAA,CAuGM,OAvGNU,UAuGM,GAtGJV,mBAAA,CAqGM,OArGNW,UAqGM,GApGJC,UAMI,EACJZ,mBAAA,CAWS;IAVP,eAAa,EAAC,wBAAwB;IACtC,eAAa,EAAC,OAAO;IACrB,YAAU,EAAC,mBAAmB;IAC9B,SAAM,gBAAgB;IACtB,gBAAc,EAAC,yBAAyB;IACxC,gBAAc,EAAC,UAAU;IACzBa,IAAI,EAAC,QAAQ;IACZC,OAAK,EAAAC,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAAEC,IAAA,CAAAC,OAAO,IAAID,IAAA,CAAAC,OAAO;IAAA;kBAI5BlB,mBAAA,CAgFM;IA/EJD,EAAE,EAAC,wBAAwB;IAC1B,SAAKoB,eAAA,GAAGF,IAAA,CAAAC,OAAO,oBACV,iBAAiB;MAGfD,IAAA,CAAAG,KAAK,I,cADbZ,mBAAA,CAsBK,MAtBLa,UAsBK,EAAAC,WAAA,M,cAELd,mBAAA,CAUK,MAVLe,WAUK,EAAAC,WAAA,IACLxB,mBAAA,CAuCO,QAvCPyB,WAuCO,GAtCLzB,mBAAA,CAQM,cAPJA,mBAAA,CAMK,MANL0B,WAMK,GALH1B,mBAAA,CAIK,MAJL2B,WAIK,GAHH3B,mBAAA,CAEwB,KAFxB4B,WAEwB,EAAAC,gBAAA,CAApBZ,IAAA,CAAAa,IAAI,CAACC,QAAQ,iB,OAIvB/B,mBAAA,CAQM,cANIiB,IAAA,CAAAG,KAAK,I,cADbZ,mBAAA,CAME;;IAJAK,IAAI,EAAC,QAAQ;IACb,SAAM,yBAAyB;IAC/BmB,KAAwB,EAAxB;MAAA;IAAA,CAAwB;IACvBlB,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAEE,IAAA,CAAAgB,MAAA,IAAAhB,IAAA,CAAAgB,MAAA,CAAAC,KAAA,CAAAjB,IAAA,EAAAkB,SAAA,CAAM;IAAA;6CAGlBC,mBAAA,wIAIK,EACLA,mBAAA,qOAOe,EACfA,mBAAA,2KAKK,EACLA,mBAAA,eAAkB,C,wBAK1BpC,mBAAA,CAEM,OAFNqC,WAEM,GADJC,YAAA,CAAeC,sBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}